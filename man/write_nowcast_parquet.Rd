% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/output.R
\name{write_nowcast_parquet}
\alias{write_nowcast_parquet}
\title{Write nowcast results to partitioned parquet files}
\usage{
write_nowcast_parquet(
  nowcast_results,
  output_dir,
  summarize = FALSE,
  overwrite = TRUE
)
}
\arguments{
\item{nowcast_results}{A data frame as returned by \code{\link[=run_state_nowcasts]{run_state_nowcasts()}}
or \code{\link[=run_single_nowcast]{run_single_nowcast()}}.}

\item{output_dir}{Character. Directory path for output. Will be created
if it doesn't exist.}

\item{summarize}{Logical. If \code{TRUE}, summarize draws into
quantiles before writing. If \code{FALSE} (default), write raw draws.}

\item{overwrite}{Logical. If \code{TRUE}, overwrite existing partitions.
Default is \code{TRUE}.}
}
\value{
Invisibly returns the path to the output directory.
}
\description{
Writes summarized nowcast results to a partitioned parquet dataset,
partitioned by location. This enables efficient querying of results
for specific states using \code{arrow::open_dataset()}.
}
\examples{
\dontrun{
results <- run_state_nowcasts(data, config)

# Write summarized results
write_nowcast_parquet(results, "output/nowcasts", summarize = TRUE)

# Write raw draws
write_nowcast_parquet(results, "output/nowcasts_draws", summarize = FALSE)

# Read back with arrow
library(arrow)
ds <- open_dataset("output/nowcasts")
ds |> filter(location == "ca") |> collect()
}
}
